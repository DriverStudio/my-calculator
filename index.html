<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã | –ì–ª–∞–≤–Ω–∞—è</title>
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* –°–µ—Ç–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π */
        .catalog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            width: 100%;
        }

        .tool-card {
            background: #fff;
            border: 1px solid #e9ecef;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            text-decoration: none;
            color: #333;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
            border-color: #28a745;
        }

        .tool-icon { font-size: 40px; margin-bottom: 5px; }
        .tool-name { font-weight: bold; font-size: 18px; }
        .tool-desc { font-size: 13px; color: #777; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="container">
    <div style="width: 100%;">
        <h1 style="margin-bottom: 10px;">üß∞ –ò–º–ø–µ—Ä–∏—è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</h1>
        <p style="margin-bottom: 30px; color: #666;">–ö–æ–ª–ª–µ–∫—Ü–∏—è –∏–∑ 21 –ø–æ–ª–µ–∑–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ –∂–∏–∑–Ω–∏.</p>
        
        <input type="text" id="searchInput" class="search-box" placeholder="üîç –ù–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: –Ω–¥—Å, –ø–∞—Ä–æ–ª—å)...">

        <div id="ad-banner-top" class="ad-slot"></div>

        <div id="catalog-root"></div>
        
        <div id="noResults" style="display:none; text-align:center; padding: 40px; color:#777;">
            ü§∑‚Äç‚ôÇÔ∏è –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.
        </div>
    </div>
</div>

<script src="main.js"></script>

<script>
    const root = document.getElementById('catalog-root');
    const searchInput = document.getElementById('searchInput');
    const noResults = document.getElementById('noResults');

    // –°–õ–û–í–ê–†–¨ –ù–ê–ó–í–ê–ù–ò–ô –ö–ê–¢–ï–ì–û–†–ò–ô
    const CATEGORIES = {
        'finance': 'üí∞ –§–∏–Ω–∞–Ω—Å—ã',
        'health':  'üíä –ó–¥–æ—Ä–æ–≤—å–µ',
        'work':    'üíª –†–∞–±–æ—Ç–∞ & IT',
        'tools':   'üõ† –£—Ç–∏–ª–∏—Ç—ã',
        'fun':     'üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è'
    };

    // 1. –†–ï–ù–î–ï–† (–û–¢–†–ò–°–û–í–ö–ê)
    // –ü–æ–ª—É—á–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ APPS
    const uniqueCats = [...new Set(APPS.map(app => app.category))];

    uniqueCats.forEach(catKey => {
        // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–µ–∫—Ü–∏–∏
        const section = document.createElement('div');
        section.className = 'category-section';
        section.id = `cat-${catKey}`;

        // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏
        const title = document.createElement('div');
        title.className = 'category-title';
        title.innerText = CATEGORIES[catKey] || '–†–∞–∑–Ω–æ–µ';
        section.appendChild(title);

        // –°–µ—Ç–∫–∞ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
        const grid = document.createElement('div');
        grid.className = 'catalog-grid';

        // –§–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        const catApps = APPS.filter(app => app.category === catKey);

        catApps.forEach(app => {
            const card = document.createElement('a');
            card.className = 'tool-card';
            card.href = `./${app.id}/index.html`;
            card.setAttribute('data-keywords', `${app.name} ${app.id}`.toLowerCase());

            card.innerHTML = `
                <div class="tool-icon">${app.icon}</div>
                <div class="tool-name">${app.name}</div>
                <div class="tool-desc">–û—Ç–∫—Ä—ã—Ç—å ‚Üí</div>
            `;
            grid.appendChild(card);
        });

        section.appendChild(grid);
        root.appendChild(section);
    });

    // 2. –ñ–ò–í–û–ô –ü–û–ò–°–ö (–£–ú–ù–´–ô)
    searchInput.addEventListener('input', function() {
        const query = this.value.toLowerCase().trim();
        const cards = document.querySelectorAll('.tool-card');
        const sections = document.querySelectorAll('.category-section');
        let totalVisible = 0;

        // –®–∞–≥ 1: –°–∫—Ä—ã–≤–∞–µ–º/–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏
        cards.forEach(card => {
            const keywords = card.getAttribute('data-keywords');
            if (query === '' || keywords.includes(query)) {
                card.classList.remove('hidden');
            } else {
                card.classList.add('hidden');
            }
        });

        // –®–∞–≥ 2: –°–∫—Ä—ã–≤–∞–µ–º –ø—É—Å—Ç—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        sections.forEach(section => {
            // –ò—â–µ–º –≤–∏–¥–∏–º—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π —Å–µ–∫—Ü–∏–∏
            const visibleCardsInSection = section.querySelectorAll('.tool-card:not(.hidden)');
            
            if (visibleCardsInSection.length > 0) {
                section.classList.remove('hidden');
                totalVisible++;
            } else {
                section.classList.add('hidden');
            }
        });

        // –®–∞–≥ 3: –ï—Å–ª–∏ —Å–æ–≤—Å–µ–º –Ω–∏—á–µ–≥–æ –Ω–µ—Ç
        noResults.style.display = totalVisible === 0 ? 'block' : 'none';
    });
</script>

</body>

</html>
